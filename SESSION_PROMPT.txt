================================================================================
CPA EXAM BLUEPRINT - SESSION PROMPT
================================================================================
Last Updated: 2026-01-10

IMPORTANT: Read this file at the start of each session to understand project
context and continue work seamlessly.

================================================================================
CRITICAL RULES - READ FIRST
================================================================================

1. **LOG ALL RESPONSES**: You MUST copy EVERY response you generate to
   "cpa claude responses.txt" in this project directory. The user CANNOT read
   responses in the console. This is critical for project efficiency.

2. **LOCAL FILES ONLY**: SESSION_PROMPT.txt, SESSION_LOG.txt, and
   CLAUDE_CONTEXT.txt are LOCAL working files. Do NOT push these to GitHub
   every time you update them. Only push when explicitly requested or when
   committing actual code changes.

================================================================================
PROJECT OVERVIEW
================================================================================

Project: CPA Exam Blueprint
Purpose: Lead generation website for CPA review firm (affiliate: Surgent)
         A family member works at Surgent - goal is to reduce reliance on
         affiliate marketing with an owned marketing channel.
Stack: Next.js 16.1.1, React 19, Tailwind CSS v4, TypeScript, Supabase
Repo: https://github.com/bkolar18/cpa-exam-blueprint
Live: https://cpa-exam-blueprint.vercel.app

================================================================================
CURRENT PROJECT STATE (as of 2026-01-10)
================================================================================

Phase 1 (Free Tools) - COMPLETE
- Score Release Calendar with countdown timer
- NTS Expiration Tracker with email reminders
- Study Hours Calculator for all 6 sections
- State Requirements Guide (55 states/jurisdictions)
- Enhanced Study Plan quiz with discipline sections

Phase 2 (Content & Authority) - COMPLETE
- MDX blog infrastructure with 8 articles
- Exam Day Walkthrough guide
- "I Failed, Now What?" retaker guide
- Success Stories section (5 stories)

Phase 3 (CPA Academy / Dashboard) - COMPLETE
- Supabase database integration (PostgreSQL)
- User authentication (email/password)
- User dashboard with study tracking
- Study session logging with streaks
- Section progress management
- NTS tracking in dashboard
- Gamification (points, badges, achievements)
- 5,810 MCQ practice questions across all 6 sections
- Practice history and accuracy tracking
- Surgent promotional banner (per-account, 30-day reappearance)
- Exam Simulation Mode with pause functionality

Phase 3.5 (Question Bank Expansion) - IN PROGRESS
- MCQs: 5,810 total (176 batch files) - 49.2% medium (near 50-60% target)
- TBS: 190/200 total - NEED 10 MORE FAR QUESTIONS
- Dark mode fixes completed for state requirements pages

Phase 4 (Email Nurturing) - NOT STARTED
Phase 5 (AI Features) - NOT STARTED

================================================================================
KEY DOCUMENTS TO READ (Updated 2026-01-10)
================================================================================

**MUST READ FIRST (Before creating ANY TBS):**

1. **docs/tbs-system-architecture.md** (CRITICAL - READ FIRST!)
   - Complete TBS creation guidelines and standards
   - TypeScript interfaces and type definitions
   - Exhibit structure templates
   - Quality requirements and validation rules
   - FOLLOW THIS DOCUMENT PRECISELY FOR ALL TBS CREATION

**Session Context Files:**

2. **CURRENT_STATUS_2026-01-10.txt** (CRITICAL)
   - Detailed instructions for resuming current work
   - Phase 1 & Phase 2 TBS expansion plan
   - Distribution targets for 350 total TBS

3. **src/lib/data/tbs/tbs-research-guide.md**
   - CPA exam TBS research and background
   - Complexity level definitions (40% simple, 45% moderate, 15% complex)
   - Topic priorities by section

**TBS Files:**

4. **src/lib/data/tbs/*.ts** (TBS question files)
   - types.ts: TBS type definitions
   - far-tbs.ts: 19 FAR TBS (need 10 more for Phase 1)
   - aud-tbs.ts: 29 AUD TBS
   - reg-tbs.ts: 30 REG TBS
   - tcp-tbs.ts: 21 TCP TBS
   - bar-tbs.ts: 21 BAR TBS
   - isc-tbs.ts: 12 ISC TBS
   - index.ts: Central exports

**Other Reference:**

5. **docs/DIFFICULTY-DISTRIBUTION-ANALYSIS.md**
   - Complete breakdown of all 5,810 MCQ questions

6. **CPA Exam Blueprint - Business Overview.txt**
   - Complete business description for Surgent partnership

================================================================================
IMMEDIATE NEXT STEPS (Pick up here!)
================================================================================

**CRITICAL: READ THIS FIRST**
Before creating ANY TBS questions, you MUST read:
  docs/tbs-system-architecture.md
This contains complete TBS creation guidelines. Follow it precisely.

--------------------------------------------------------------------------------
PHASE 1: ADD 10 FAR TBS TO REACH 200 TOTAL
--------------------------------------------------------------------------------

File: src/lib/data/tbs/far-tbs.ts
Current: 19 questions (IDs tbs-far-012 through tbs-far-030)
Needed: 10 more (IDs tbs-far-031 through tbs-far-040)

Suggested Topics:
1. Property Plant & Equipment - Impairment Testing
2. Business Combinations - Purchase Price Allocation
3. Contingencies and Commitments
4. Stock Compensation (ASC 718)
5. Foreign Currency Translation
6. Segment Reporting
7. Fair Value Measurements (ASC 820)
8. NFP Revenue Recognition
9. Governmental - Enterprise Fund
10. Subsequent Events

After adding:
1. Update export array at bottom of far-tbs.ts
2. Run: npx tsc --noEmit --skipLibCheck
3. Verify total = 200

--------------------------------------------------------------------------------
PHASE 2: EXPAND TO 350 TOTAL TBS (150 more after Phase 1)
--------------------------------------------------------------------------------

After Phase 1, expand library from 200 to 350 total TBS.

Distribution for 150 new TBS (maintain proportional):
| Section | Add  | New Total |
|---------|------|-----------|
| FAR     | ~33  | 62        |
| AUD     | ~33  | 62        |
| REG     | ~33  | 63        |
| TCP     | ~17  | 38        |
| BAR     | ~17  | 38        |
| ISC     | ~17  | 29        |

Type Distribution: 45% numeric, 25% document review, 15% journal, 10% dropdown, 5% research
Complexity: 40% simple, 45% moderate, 15% complex

See CURRENT_STATUS_2026-01-10.txt for full details and ID numbering.

================================================================================
TBS QUESTION STATUS (as of 2026-01-10)
================================================================================

| Section | Questions | File Location              |
|---------|-----------|----------------------------|
| FAR     | 19        | src/lib/data/tbs/far-tbs.ts |
| AUD     | 29        | src/lib/data/tbs/aud-tbs.ts |
| REG     | 30        | src/lib/data/tbs/reg-tbs.ts |
| TCP     | 21        | src/lib/data/tbs/tcp-tbs.ts |
| BAR     | 21        | src/lib/data/tbs/bar-tbs.ts |
| ISC     | 12        | src/lib/data/tbs/isc-tbs.ts |
| SAMPLE  | 58        | src/lib/data/tbs/sample-tbs.ts |
|---------|-----------|----------------------------|
| TOTAL   | 190       | Need 10 more for 200       |

================================================================================
MCQ PRACTICE QUESTIONS STATUS (as of 2026-01-10)
================================================================================

**Total Questions: 5,810 across 176 batch files**

| Section | Questions | Batches | Easy% | Med% | Hard% |
|---------|-----------|---------|-------|------|-------|
| FAR     | 1,680     | 55      | 19%   | 46%  | 35%   |
| AUD     | 1,015     | 29      | 18%   | 52%  | 30%   |
| REG     | 1,260     | 36      | 16%   | 47%  | 36%   |
| TCP     | 805       | 23      | 17%   | 51%  | 32%   |
| BAR     | 490       | 14      | 17%   | 56%  | 27%   |
| ISC     | 560       | 16      | 15%   | 50%  | 35%   |

**Question File Locations:**
- Original 600: src/lib/data/practice-questions/{section}.ts
- Batch JSON files: docs/question-batches/{section}/

================================================================================
RECENT ACCOMPLISHMENTS (Session 2026-01-10)
================================================================================

1. **Dark Mode Fix - State Requirements Pages**
   - Fixed bubbles/cards that were unreadable in dark mode
   - Updated [state]/page.tsx with dark: classes for all cards
   - Updated StateSelector.tsx dropdown with dark mode support

2. **TBS Question Bank Expansion (190/200)**
   - Created comprehensive TBS research guide with complexity levels
   - Created new TBS folder structure: src/lib/data/tbs/
   - Created 6 new section TBS files (far, aud, reg, tcp, bar, isc)
   - Created types.ts with TBSQuestion interface
   - Created index.ts with central exports
   - Added 'dropdown' TBS type to types
   - Total: 190 TBS (58 sample + 132 new)

================================================================================
DATABASE STATUS (Supabase - ACTIVE)
================================================================================

The database is fully integrated and active. Key tables:
- profiles (user data, gamification, promo_dismissed_at)
- study_sessions (logged study hours)
- section_progress (FAR/AUD/REG/discipline status)
- nts_entries (Notice to Schedule tracking)
- practice_attempts (questions, user answers)
- user_badges (earned achievements)

================================================================================
CORE PROJECT STRUCTURE
================================================================================

src/
├── app/
│   ├── api/                         # API routes
│   ├── auth/callback/               # Supabase auth callback
│   ├── blog/                        # MDX blog (8 articles)
│   ├── cpa-academy/                 # CPA Academy landing page
│   ├── dashboard/                   # User dashboard (requires auth)
│   │   ├── practice/                # MCQ practice questions
│   │   ├── exam-simulation/         # Timed exams with pause
│   │   └── ...
│   ├── state-requirements/          # 55 state/jurisdiction pages
│   │   ├── [state]/page.tsx         # Dynamic state pages (dark mode fixed)
│   │   └── StateSelector.tsx        # Dropdown (dark mode fixed)
│   └── ...
├── components/
│   ├── auth/AuthProvider.tsx        # Auth context with profile
│   └── ...
└── lib/
    ├── supabase/                    # Supabase client & types
    ├── gamification/                # Points, badges, achievements
    └── data/
        ├── practice-questions/      # Original 600 MCQs (6 files)
        ├── tbs/                     # TBS QUESTIONS (NEW!)
        │   ├── types.ts             # TBS type definitions
        │   ├── tbs-research-guide.md # Research & creation guidelines
        │   ├── far-tbs.ts           # 19 FAR TBS (need 10 more)
        │   ├── aud-tbs.ts           # 29 AUD TBS
        │   ├── reg-tbs.ts           # 30 REG TBS
        │   ├── tcp-tbs.ts           # 21 TCP TBS
        │   ├── bar-tbs.ts           # 21 BAR TBS
        │   ├── isc-tbs.ts           # 12 ISC TBS
        │   ├── sample-tbs.ts        # 58 original sample TBS
        │   └── index.ts             # Central exports
        └── ...

docs/
├── DIFFICULTY-DISTRIBUTION-ANALYSIS.md  # MCQ stats
└── question-batches/                    # 5,200+ additional MCQs

================================================================================
COMMANDS
================================================================================

cd "C:\Users\brenn\Documents\Coding Projects\CPA Exam Site\cpa-exam-blueprint"
npm run dev                      # Start dev server
npm run build                    # Production build
npx tsc --noEmit --skipLibCheck  # TypeScript check only
git push                         # Deploy to Vercel (auto)

================================================================================
